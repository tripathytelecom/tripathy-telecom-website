<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Checkout | Tripathy Telecom</title>

<style>
body{font-family:Arial;background:#000;color:#fff;margin:0}
.section{padding:60px 20px;text-align:center}
.box{
  background:#111;
  max-width:600px;
  margin:auto;
  padding:30px;
  border-radius:12px;
  box-shadow:0 0 15px rgba(255,212,0,0.3);
}
.item{
  display:flex;
  justify-content:space-between;
  margin:10px 0;
}
.total{
  font-size:18px;
  color:#ffd400;
  margin:15px 0;
}
input,textarea{
  width:100%;
  padding:10px;
  margin:8px 0;
}
.btn{
  background:#ffd400;
  color:#000;
  padding:12px;
  font-weight:bold;
  border:none;
  width:100%;
  cursor:pointer;
  border-radius:6px;
}
</style>
</head>

<body>

<section class="section">
  <div class="box">
    <h2>Order Summary</h2>

    <div id="cartItems"></div>
    <div class="total">Total: ₹<span id="totalPrice">0</span></div>

    <h3>Customer Details</h3>

    <input id="name" placeholder="Your Name" required>
    <input id="mobile" placeholder="Mobile Number" required>
    <textarea id="address" placeholder="Full Address" required></textarea>

    <p><strong>Payment Method:</strong></p>
    <label><input type="radio" checked> Cash on Delivery</label><br>
    <label><input type="radio" disabled> Online Payment (Coming Soon)</label>

    <br><br>
    <button class="btn" onclick="placeOrder()">Place Order via WhatsApp</button>
  </div>
</section>

<script>
let cart = JSON.parse(localStorage.getItem("cart")) || [];
let cartDiv = document.getElementById("cartItems");
let total = 0;

function loadCart(){
  cartDiv.innerHTML="";
  total=0;

  if(cart.length===0){
    cartDiv.innerHTML="<p>Your cart is empty</p>";
    return;
  }

  cart.forEach(item=>{
    total += item.price;
    cartDiv.innerHTML += `
      <div class="item">
        <span>${item.name}</span>
        <span>₹${item.price}</span>
      </div>
    `;
  });

  document.getElementById("totalPrice").innerText = total;
}

function placeOrder(){
  const name = document.getElementById("name").value;
  const mobile = document.getElementById("mobile").value;
  const address = document.getElementById("address").value;

  if(!name || !mobile || !address){
    alert("Please fill all details");
    return;
  }

  let items = cart.map(i=>`${i.name} - ₹${i.price}`).join("\n");

  let msg =
`New Order - Tripathy Telecom

Items:
${items}

Total: ₹${total}

Customer Name: ${name}
Mobile: ${mobile}
Address: ${address}

Payment: Cash on Delivery`;

  window.open(
    "https://wa.me/918670244552?text="+encodeURIComponent(msg),
    "_blank"
  );
}

loadCart();
</script>

</body>
</html>
